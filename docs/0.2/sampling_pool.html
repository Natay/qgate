
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Sampling &#8212; qgate 0.2 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Simulator" href="simulator.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="simulator.html" title="Simulator"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">qgate 0.2 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sampling">
<h1>Sampling<a class="headerlink" href="#sampling" title="Permalink to this headline">¶</a></h1>
<p>There’re 2 ways to do sampling after simulation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Sampling implementation is preliminary in 0.2.  APIs are subject to change.</p>
</div>
<div class="section" id="sampling-by-iterated-simulations">
<h2>Sampling by iterated simulations<a class="headerlink" href="#sampling-by-iterated-simulations" title="Permalink to this headline">¶</a></h2>
<p>Simulator.sample() method runs circuit simulations for n_samples times where m_samples is the number of sampling.  Measurement results are accumlated and returned.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">qregs</span> <span class="o">=</span> <span class="n">new_qregs</span><span class="p">(</span><span class="n">n_qregs</span><span class="p">)</span>
<span class="n">refs</span> <span class="o">=</span> <span class="n">new_references</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">ops</span> <span class="o">=</span> <span class="p">[</span> <span class="o">...</span> <span class="n">gate</span> <span class="n">sequence</span> <span class="o">...</span><span class="p">,</span>
        <span class="n">measure</span><span class="p">(</span><span class="n">refs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">qregs</span><span class="p">[</span><span class="n">n</span><span class="p">],</span>
        <span class="o">...</span> <span class="n">gate</span> <span class="n">sequence</span> <span class="o">...</span><span class="p">,</span>
        <span class="n">measure</span><span class="p">(</span><span class="n">refs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">qregs</span><span class="p">[</span><span class="n">m</span><span class="p">],</span>
        <span class="o">...</span> <span class="n">gate</span> <span class="n">sequence</span> <span class="o">...</span>
      <span class="p">]</span>

<span class="n">sim</span> <span class="o">=</span> <span class="n">qgate</span><span class="o">.</span><span class="n">simulator</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span>
<span class="n">obslist</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">ops</span><span class="p">)</span>   <span class="c1"># sampling results are returned as observation list.</span>
<span class="n">hist</span> <span class="o">=</span> <span class="n">obslist</span><span class="o">.</span><span class="n">histgram</span><span class="p">()</span>   <span class="c1"># getting histgram from observations.</span>
</pre></div>
</div>
</div>
<div class="section" id="sampling-pool">
<h2>Sampling pool<a class="headerlink" href="#sampling-pool" title="Permalink to this headline">¶</a></h2>
<p>Sampling pool is for efficient and fast sampling by using pre-calculated probability.  Below is an example.  Currently measure operators are not allowed to be included in circuits to use sampling pool.  The reason is that sampling pool calculates probabilities from state vector, and state vector should not be decohered by measure operation before creating sampling pool.  ( This restriction will be removed in future version. )</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ops</span> <span class="o">=</span> <span class="o">...</span> <span class="n">preparing</span> <span class="n">circuit</span> <span class="o">...</span>

<span class="n">sim</span> <span class="o">=</span> <span class="n">qgate</span><span class="o">.</span><span class="n">simulator</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span>
<span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ops</span><span class="p">)</span>

<span class="n">qregs</span> <span class="o">=</span> <span class="o">...</span> <span class="n">quantum</span> <span class="n">registers</span> <span class="n">which</span> <span class="n">will</span> <span class="n">be</span> <span class="n">sampled</span> <span class="o">...</span>
<span class="n">sampling_pool</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">qubits</span><span class="o">.</span><span class="n">create_sampling_pool</span><span class="p">(</span><span class="n">qregs</span><span class="p">)</span>

<span class="n">obslist</span> <span class="o">=</span> <span class="n">sampling_pool</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n_samples</span><span class="p">)</span> <span class="c1"># sampling results are returned as observation list.</span>
<span class="n">hist</span> <span class="o">=</span> <span class="n">obslist</span><span class="o">.</span><span class="n">histgram</span><span class="p">()</span>                 <span class="c1"># getting histgram from observations.</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Sampling</a><ul>
<li><a class="reference internal" href="#sampling-by-iterated-simulations">Sampling by iterated simulations</a></li>
<li><a class="reference internal" href="#sampling-pool">Sampling pool</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="simulator.html"
                        title="previous chapter">Simulator</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/sampling_pool.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="simulator.html" title="Simulator"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">qgate 0.2 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Shinya Morino.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>